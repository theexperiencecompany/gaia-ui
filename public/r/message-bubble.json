{
	"$schema": "https://ui.shadcn.com/schema/registry-item.json",
	"name": "message-bubble",
	"type": "registry:ui",
	"title": "iOS Message Bubbles",
	"description": "Beautiful iOS-style message bubbles with authentic iMessage appearance, message grouping, and tail effects.",
	"dependencies": [],
	"files": [
		{
			"path": "registry/new-york/ui/message-bubble.tsx",
			"content": "\"use client\";\n\nimport \"./message-bubble.css\";\n\nimport { cn } from \"@/lib/utils\";\n\nexport interface MessageBubbleProps {\n  message: string;\n  variant?: \"sent\" | \"received\";\n  grouped?: \"first\" | \"middle\" | \"last\" | \"none\";\n  className?: string;\n  children?: React.ReactNode;\n}\n\nexport function MessageBubble({\n  message,\n  variant = \"received\",\n  grouped = \"none\",\n  className,\n  children,\n}: MessageBubbleProps) {\n  const groupedClasses =\n    grouped === \"first\"\n      ? \"imessage-grouped-first mb-1.5\"\n      : grouped === \"last\"\n      ? \"imessage-grouped-last\"\n      : grouped === \"middle\"\n      ? \"imessage-grouped-middle mb-1.5\"\n      : \"\";\n\n  return (\n    <div\n      className={cn(\n        \"imessage-bubble\",\n        variant === \"sent\" ? \"imessage-from-me\" : \"imessage-from-them\",\n        groupedClasses,\n        className\n      )}\n    >\n      {children || <p className=\"whitespace-pre-wrap\">{message}</p>}\n    </div>\n  );\n}\n\nexport interface ChatMessageProps {\n  timestamp?: string;\n  messages: string[];\n  variant?: \"sent\" | \"received\";\n  className?: string;\n  showTimestamp?: boolean;\n}\n\nexport function ChatMessage({\n  timestamp,\n  messages,\n  variant = \"received\",\n  className,\n  showTimestamp = true,\n}: ChatMessageProps) {\n  const hasMultipleMessages = messages.length > 1;\n\n  const getGroupedType = (index: number, total: number) => {\n    if (total === 1) return \"none\";\n    if (index === 0) return \"first\";\n    if (index === total - 1) return \"last\";\n    return \"middle\";\n  };\n\n  return (\n    <div className={cn(\"flex w-full flex-col\", className)}>\n      <div className=\"flex flex-col\">\n        {messages.map((message, index) => (\n          <MessageBubble\n            key={index}\n            message={message}\n            variant={variant}\n            grouped={\n              hasMultipleMessages\n                ? getGroupedType(index, messages.length)\n                : \"none\"\n            }\n          />\n        ))}\n      </div>\n\n      {showTimestamp && timestamp && (\n        <span\n          className={cn(\n            \"mt-1 px-2 text-xs text-muted-foreground\",\n            variant === \"sent\" && \"text-right\"\n          )}\n        >\n          {timestamp}\n        </span>\n      )}\n    </div>\n  );\n}\n",
			"type": "registry:ui"
		},
		{
			"path": "registry/new-york/ui/message-bubble.css",
			"content": "/* iOS-style message bubbles */\n.imessage-bubble {\n  word-wrap: break-word;\n  line-height: 24px;\n  position: relative;\n  padding: 8px 20px;\n  max-width: 60vw;\n  border-radius: 20px;\n}\n\n.imessage-bubble::before,\n.imessage-bubble::after {\n  content: \"\";\n  position: absolute;\n  bottom: 0;\n  height: 18px;\n}\n\n/* Grouped messages have tighter corner radii on the stacking side */\n/* Received messages (left side) - tight corners on left side */\n.imessage-grouped-first.imessage-from-them {\n  border-radius: 20px 20px 20px 5px !important;\n}\n\n.imessage-grouped-middle.imessage-from-them {\n  border-radius: 5px 20px 20px 5px !important;\n}\n\n.imessage-grouped-last.imessage-from-them {\n  border-radius: 5px 20px 20px 20px !important;\n}\n\n/* Sent messages (right side) - tight corners on right side */\n.imessage-grouped-first.imessage-from-me {\n  border-radius: 20px 20px 5px 20px !important;\n}\n\n.imessage-grouped-middle.imessage-from-me {\n  border-radius: 20px 5px 5px 20px !important;\n}\n\n.imessage-grouped-last.imessage-from-me {\n  border-radius: 20px 5px 20px 20px !important;\n}\n\n/* Bot messages (from-them style) */\n.imessage-from-them {\n  background-color: var(--color-zinc-300);\n  color: black;\n  align-self: flex-start;\n}\n\n.imessage-from-them::before {\n  left: -7px;\n  width: 20px;\n  background-color: var(--color-zinc-300);\n  border-bottom-right-radius: 16px;\n}\n\n.imessage-from-them::after {\n  left: -26px;\n  width: 26px;\n  background-color: var(--color-background);\n  border-bottom-right-radius: 10px;\n}\n\n/* User messages (from-me style) */\n.imessage-from-me {\n  color: black;\n  background: #00bbff;\n  align-self: flex-end;\n}\n\n.imessage-from-me::before {\n  right: -7px;\n  width: 20px;\n  background-color: #00bbff;\n  border-bottom-left-radius: 16px 14px;\n}\n\n.imessage-from-me::after {\n  right: -26px;\n  width: 26px;\n  background-color: var(--color-background);\n  border-bottom-left-radius: 10px;\n}\n\n/* Grouped iMessage bubbles for NEW_MESSAGE_BREAK */\n/* Hide tails for grouped messages except the last one */\n.imessage-grouped-first::before,\n.imessage-grouped-first::after,\n.imessage-grouped-middle::before,\n.imessage-grouped-middle::after {\n  display: none;\n}\n",
			"type": "registry:ui"
		}
	]
}
